---
import { Image } from "astro:assets";

export interface Props {
  img: any; // ImageMetadata from astro:assets
  alt: string;
  minHeight?: string; // e.g. "500px"
  class?: string; // extra classes on <section>
  imgClass?: string; // extra classes on <Image>
}

const {
  img,
  alt,
  minHeight = "500px",
  class: cls = "",
  imgClass = "",
} = Astro.props;
---

<section
  class={`mb-5 overflow-hidden rounded-2xl bg-surface-dark text-ink-dark ${cls}`}
  data-bg="dark"
>
  <div class="relative" style={`min-height:${minHeight}`}>
    <!-- Image pinned to the right -->
    <Image
      src={img}
      alt={alt}
      class={`absolute right-0 top-0 z-0 h-full w-full object-cover lg:w-[60%] ${imgClass}`}
      widths={[400, 600, 800, 1100]}
      sizes="(min-width: 1024px) 60vw, (min-width: 768px) 80vw, (min-width: 640px) 90vw, 100vw"
      loading="lazy"
      quality={85}
    />

    <!-- Content column (left) -->
    <div
      class="relative z-10 mx-auto h-full w-full max-w-6xl px-4 py-16 sm:px-6"
    >
      <div
        class="flex h-full w-full flex-col justify-center px-6 py-6 lg:w-[50%] lg:px-12 lg:py-12"
      >
        <slot />
      </div>
    </div>
  </div>
</section>
